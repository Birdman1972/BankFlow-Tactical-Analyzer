# BankFlow é‡‘æµåˆ†æå™¨ - Claude æŒ‡å¼•

---


## ğŸ“ å¾…è¦åŠƒåŠŸèƒ½ (FEATURE BACKLOG)

### åŠŸèƒ½ä¸€ï¼šä½¿ç”¨è€…æ„è¦‹å›é¥‹ç³»çµ±

**ç›®çš„**ï¼šæ”¶é›†ä½¿ç”¨è€…æ„è¦‹ï¼Œä½œç‚ºæ›´æ–°é–‹ç™¼åƒè€ƒ

**éœ€æ±‚**ï¼š
- ä»‹é¢å…§å»ºæ„è¦‹å›é¥‹è¡¨å–®
- æ”¶é›†å…§å®¹ï¼šåŠŸèƒ½å»ºè­°ã€Bug å›å ±ã€ä½¿ç”¨é«”é©—
- è‡ªå‹•é™„å¸¶ç‰ˆæœ¬è³‡è¨Š
- å¾Œç«¯æ”¶é›†æ©Ÿåˆ¶ï¼ˆå¯è€ƒæ…®ï¼šGitHub Issues APIã€Google Formsã€è‡ªå»º APIï¼‰
- ç‰ˆæœ¬æ§åˆ¶æ•´åˆ

### åŠŸèƒ½äºŒï¼šç‰ˆæœ¬æª¢æŸ¥èˆ‡æ›´æ–°é€šçŸ¥

**ç›®çš„**ï¼šæ¡Œé¢ç‰ˆå•Ÿå‹•æ™‚æª¢æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬

**éœ€æ±‚**ï¼š
1. **ç‰ˆæœ¬æª¢æŸ¥æ©Ÿåˆ¶**
   - æ¡Œé¢ç‰ˆå•Ÿå‹•æ™‚è‡ªå‹•æª¢æŸ¥ Web ç‰ˆæœ¬è™Ÿ
   - æ¯”å°æœ¬åœ°ç‰ˆæœ¬èˆ‡é ç«¯ç‰ˆæœ¬
   - ç‰ˆæœ¬è³‡è¨Šä¾†æºï¼šVercel éƒ¨ç½²çš„ version.json

2. **æ›´æ–°é€šçŸ¥ UI**
   - è‹¥æœ‰æ–°ç‰ˆæœ¬ï¼Œé¡¯ç¤ºæ›´æ–°å°è©±æ¡†
   - é¡¯ç¤ºæ–°ç‰ˆæœ¬è™Ÿèˆ‡æ›´æ–°å…§å®¹æ‘˜è¦
   - é¸é …ï¼šã€Œç«‹å³æ›´æ–°ã€/ã€Œç¨å¾Œæé†’ã€/ã€Œç•¥éæ­¤ç‰ˆæœ¬ã€

3. **é—œæ–¼é é¢ (About / README)**
   - é¡¯ç¤ºç›®å‰ç‰ˆæœ¬è™Ÿ
   - ç‰ˆæœ¬æ›´æ–°æ­·å² (Changelog)
   - é–‹ç™¼è€…è³‡è¨Š
   - æˆæ¬Šæ¢æ¬¾

**ç‰ˆæœ¬è³‡è¨Šæ ¼å¼å»ºè­°**ï¼š
```json
{
  "version": "2.1.0",
  "releaseDate": "2026-01-25",
  "changelog": [
    { "version": "2.1.0", "date": "2026-01-25", "changes": ["æ–°å¢ i18n", "æ–°å¢æ„è¦‹å›é¥‹"] },
    { "version": "2.0.0", "date": "2026-01-23", "changes": ["é›™å¹³å°æ¶æ§‹", "Vercel éƒ¨ç½²"] }
  ]
}
```

**ä¸‹æ¬¡è¦åŠƒæ™‚è¨è«–å¯¦ä½œç´°ç¯€ã€‚**

---

## Guardian Recursion Protocol (å®ˆè­·ç¥é€£é–)

**è¦å‰‡**ï¼šç¦æ­¢æš´åŠ›è©¦éŒ¯ (No Brute-Force Retry)

è‹¥æ¸¬è©¦/å»ºæ§‹é€£çºŒå¤±æ•— **5 æ¬¡**ï¼Œå¿…é ˆå¼·åˆ¶é€²å…¥ **Defense Mode**ï¼š

1. **Stop** - ç«‹å³åœæ­¢ç›®å‰çš„ä¿®å¾©å˜—è©¦
2. **Debug** - åŸ·è¡Œæ·±åº¦åˆ†ææ‰¾å‡ºæ ¹æœ¬åŸå› 
3. **Brainstorm** - åˆ—å‡ºæ›¿ä»£æ–¹æ¡ˆ
4. **Re-Test** - ä¿®å¾©å¾Œå†æ¬¡æ¸¬è©¦
5. **Rollback** - è‹¥ä¸Šè¿°çš†å¤±æ•ˆï¼Œ`git reset --hard` ä¸¦å›å ±

---

## Documentation First Protocol (æ–‡ä»¶å„ªå…ˆåŸå‰‡)

**è¦å‰‡**ï¼šå°ˆæ¡ˆè®Šå‹•æ™‚ï¼Œæ–‡ä»¶æ›´æ–°ç‚ºé¦–è¦ä»»å‹™

ä»»ä½•ç¨‹å¼ç¢¼è®Šæ›´å¾Œï¼Œ**å¿…é ˆ**åŒæ­¥æ›´æ–°ï¼š

1. **å¿ƒæ™ºåœ–** - `docs/PROJECT.md` ä¸­çš„ Mermaid mindmap
2. **æ¶æ§‹åœ–** - `docs/ARCHITECTURE.md` ä¸­çš„æµç¨‹åœ–èˆ‡æ¨¡çµ„åœ–
3. **æ™‚ç¨‹è¦åŠƒ** - `docs/plans/ROADMAP.md` ä¸­çš„ Gantt chart
4. **ç‹€æ…‹è¿½è¹¤** - æœ¬æª”æ¡ˆ (CLAUDE.md) çš„é€²åº¦ç‹€æ…‹

```
ç¨‹å¼ç¢¼è®Šæ›´ â†’ æ–‡ä»¶æ›´æ–° â†’ Git Commit
     âŒ ä¸å¯è·³éæ–‡ä»¶æ›´æ–°æ­¥é©Ÿ
```

---

## ç›®å‰ç‹€æ…‹

**éšæ®µ**ï¼šPhase 7 WASM æ¶æ§‹ - å®Œæˆ âœ…

**å·²å®Œæˆ**ï¼š
- [x] å°ˆæ¡ˆæ–‡ä»¶ (README, docs/)
- [x] æ¶æ§‹è¨­è¨ˆ (Tauri + Rust + Svelte)
- [x] é–‹ç™¼è¨ˆç•« (docs/plans/)
- [x] **Phase 1ï¼šå°ˆæ¡ˆåˆå§‹åŒ–** (2026-01-21)
- [x] **Phase 2ï¼šRust æ ¸å¿ƒå¼•æ“** (2026-01-21)
- [x] **Phase 3ï¼šTauri å‘½ä»¤å±¤** (2026-01-21)
- [x] **Phase 4ï¼šSvelte å‰ç«¯** (2026-01-21)
- [x] **Phase 7ï¼šWASM é›™å¹³å°æ¶æ§‹** (2026-01-23)
  - [x] bankflow-core crate (WASM ç›¸å®¹)
  - [x] src-tauri ä½¿ç”¨ bankflow-core
  - [x] å‰ç«¯å¹³å°åˆ‡æ›æ©Ÿåˆ¶ (platform.ts)
  - [x] WASM å»ºç½®è…³æœ¬èˆ‡ç·¨è­¯æ¸¬è©¦
- [x] **Phase 5ï¼šæ¸¬è©¦** (2026-01-23)
  - [x] bankflow-core å–®å…ƒæ¸¬è©¦ (16 tests)
  - [x] src-tauri æ•´åˆæ¸¬è©¦ (16 tests)
  - [x] WASM æ¸¬è©¦ (5 tests)
  - ç¸½è¨ˆï¼š37 tests passing

- [x] **ä»‹é¢åœ‹éš›åŒ– (i18n)** (2026-01-26)
  - [x] è‡ªè¨‚è¼•é‡ç´š i18n æ¶æ§‹ï¼ˆSvelte 5 ç›¸å®¹ï¼‰
  - [x] ç¿»è­¯æª”æ¡ˆï¼ˆen.ts, zh-TW.tsï¼‰
  - [x] æ‰€æœ‰å…ƒä»¶ i18n æ”¯æ´
  - [x] èªè¨€åˆ‡æ› UIï¼ˆHeaderï¼‰
  - [x] localStorage èªè¨€åå¥½å„²å­˜
  - å¤š AI å”ä½œï¼šClaude Opus + Gemini CLI + OpenAI Codex

**å¾…å®Œæˆ**ï¼š
- [ ] Phase 6 (æ‰“åŒ…) - Tauri æ¡Œé¢æ‡‰ç”¨æ‰“åŒ…
- [ ] WASM åŒ¯å‡ºç©©å®šåŒ–ï¼ˆrust_xlsxwriter wasm featureï¼‰

---

## éƒ¨ç½²è³‡è¨Š

**Web ç‰ˆæœ¬ (Vercel)**ï¼š
- ğŸŒ https://bankflow-tactical-analyzer.vercel.app
- GitHub æ•´åˆï¼šæ¨é€åˆ° main åˆ†æ”¯è‡ªå‹•éƒ¨ç½²
- Vercel buildCommandï¼š`npm run build:web`ï¼ˆåŒ…å« `build:wasm`ï¼‰

---

## é›™å¹³å°æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Svelte Frontend                       â”‚
â”‚              (src/lib/stores/platform.ts)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tauri Desktop  â”‚         â”‚    Web/WASM     â”‚
â”‚  (tauri-impl)   â”‚         â”‚  (wasm-impl)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bankflow-core  â”‚         â”‚  bankflow-core  â”‚
â”‚   (native Rust) â”‚         â”‚    (WASM)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æª”æ¡ˆçµæ§‹

```
crates/bankflow-core/        # å…±ç”¨æ ¸å¿ƒ (WASM ç›¸å®¹)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs, models.rs, parser.rs, matcher.rs
â”‚   â”œâ”€â”€ processor.rs, exporter.rs, error.rs
â”‚   â””â”€â”€ wasm.rs              # WASM bindings

src-tauri/                   # Tauri æ¡Œé¢ç‰ˆ
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/mod.rs          # é‡æ–°å°å‡º bankflow-core
â”‚   â”œâ”€â”€ core/whois.rs        # Tauri å°ˆç”¨ (ç¶²è·¯è«‹æ±‚)
â”‚   â””â”€â”€ commands/, models/, state.rs

src/lib/stores/              # å‰ç«¯å¹³å°æŠ½è±¡
â”œâ”€â”€ platform.ts              # çµ±ä¸€ API + åµæ¸¬
â”œâ”€â”€ tauri-impl.ts            # Tauri å¯¦ç¾
â”œâ”€â”€ wasm-impl.ts             # WASM å¯¦ç¾
â””â”€â”€ app.ts                   # æ‡‰ç”¨ç‹€æ…‹

src/lib/i18n/                # åœ‹éš›åŒ–æ¨¡çµ„
â”œâ”€â”€ index.ts                 # æ ¸å¿ƒæ¨¡çµ„ (locale store, $t)
â”œâ”€â”€ types.ts                 # TypeScript å‹åˆ¥
â””â”€â”€ locales/
    â”œâ”€â”€ en.ts                # è‹±æ–‡ç¿»è­¯
    â””â”€â”€ zh-TW.ts             # ç¹é«”ä¸­æ–‡ç¿»è­¯

src/lib/wasm/                # WASM è¼¸å‡º
â””â”€â”€ bankflow-core-wasm/      # wasm-pack build è¼¸å‡º
```

---

## å¿«é€ŸæŒ‡ä»¤

**é–‹ç™¼**ï¼š
- `npm run dev` - Vite é–‹ç™¼ä¼ºæœå™¨ (Web)
- `npm run dev:tauri` - Tauri é–‹ç™¼æ¨¡å¼

**å»ºç½®**ï¼š
- `npm run build:wasm` - ç·¨è­¯ WASM æ¨¡çµ„
- `npm run build:web` - ç·¨è­¯ Web ç‰ˆæœ¬
- `npm run build:tauri` - æ‰“åŒ…æ¡Œé¢æ‡‰ç”¨

**æª¢æŸ¥**ï¼š
- `npm run check` - TypeScript å‹åˆ¥æª¢æŸ¥

**æ¸¬è©¦**ï¼š
- `cargo test -p bankflow-core` - æ ¸å¿ƒå–®å…ƒæ¸¬è©¦
- `cargo test` (in src-tauri) - Tauri æ•´åˆæ¸¬è©¦
- `wasm-pack test --node --features wasm` (in crates/bankflow-core) - WASM æ¸¬è©¦
